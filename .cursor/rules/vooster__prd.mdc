---
description:
globs:
alwaysApply: true
---
# 제품 요구사항 문서(PRD)

## 1. 개요
일본어 라디오 방송을 들으며 스크립트를 한 줄씩 따라 읽고, 단어장을 통해 어휘를 학습할 수 있는 웹 서비스. 사용자는 좋아하는 콘텐츠로 학습 지속성을 높이고, 문장·단어 단위 상호작용으로 몰입형 학습 경험을 얻는다.

## 2. 문제 정의
- 라디오·팟캐스트 기반 일본어 학습 서비스가 부족해 학습 소재 다양성이 떨어짐  
- 스크립트와 오디오가 분리돼 있어 동시 학습이 불편  
- 수집한 단어를 체계적으로 복습할 도구 부족  
- 기존 앱(듀오링고 등)은 게임화에 치중, 실제 청취·발화 능력 향상 한계

## 3. 목표 및 목적
- 주요 목표: 라디오 스크립트 연동 청취·읽기·단어장 통합 학습 제공  
- 부가 목표  
  - 학습 지속성 30%↑  
  - 사용자 제작(UGC) 스크립트 20% 확보  
- 성공 지표  
  - WAU 10K, 평균 학습 세션 15분  
  - 단어장 저장 수/인당 ≥30개  
  - NPS ≥45

## 4. 타깃 유저
### 1차 유저
- 20~30대 애니·라디오 팬, 일본어 초중급자  
- 모바일·웹 청취 습관, 짧은 여가 시간 활용
### 2차 유저
- 일본어 교사, 팟캐스터, 학습 커뮤니티 운영자

## 5. 사용자 스토리
- “일본어 초급자로서 라디오를 들으며 문장을 클릭하면 해당 구간이 바로 재생되길 원한다, 그래서 발음·억양을 반복 청취하고 따라 읽을 수 있다.”  
- “단어를 클릭해 뜻·예문을 보고 내 단어장에 저장하고 싶다, 그래야 복습 가능하다.”  
- “라디오를 들으며 자동으로 현재 문장을 하이라이트해 눈으로 따라가기 편했으면 좋겠다.”  
- “다크모드·폰트 크기 조절 등 접근성 옵션이 있었으면 한다.”

## 6. 기능 요구사항
### 핵심 기능
1. 라디오 스트림/녹음 재생  
   - 재생/일시정지·구간 탐색  
   - 문장 클릭 시 해당 타임스탬프로 점프  
   - 수집·캐시 지연 ≤1s

2. 스크립트 싱크(한줄 재생)  
   - 오디오-스크립트 타임코드 자동/수동 매핑  
   - 현재 재생 문장 하이라이트(카라오케 모드)  
   - 줄 단위 반복 재생(AB 구간)  

3. 단어장  
   - 단어 클릭 → 의미·품사·예문 팝업  
   - “저장” 시 개인 단어장에 추가, 태그·레벨 지정  
   - 복습 모드: 플래시카드, 빈칸 채우기, 철자 게임  

4. 계정 및 프로필  
   - 소셜 로그인(Google, Apple)  
   - 학습 통계(청취 시간, 저장 단어, 진행률)  

### 보조 기능
- 추천 라디오/애니 OST 리스트  
- 자동 단어 추출 & 난이도 분석  
- 다크모드, 폰트·행간 조절  
- 학습 리마인더 알림(웹푸시/이메일)  
- 커뮤니티 리뷰·스크립트 공유

## 7. 비기능 요구사항
- 성능: TTI ≤2.5s, 오디오 버퍼링 <500ms  
- 보안: OAuth2, Supabase Row-Level Security, HTTPS  
- 사용성: WCAG 2.1 AA, 키보드 탐색 100%  
- 확장성: 동시 접속 50K, 멀티 테넌시 설계  
- 호환성: 최신 크롬·사파리·파이어폭스·모바일 브라우저

## 8. 기술 고려사항
- 프런트엔드: SvelteKit + TailwindCSS + DaisyUI  
- 백엔드: FastAPI(Python) REST, WebSocket 실시간 싱크  
- DB/Auth/Storage: Supabase(Postgres, Edge Functions)  
- 오디오 스티칭: FFmpeg & HLS, CDN 캐싱(Cloudflare)  
- 인프라: Vercel(프론트) + Fly.io/Render(API)  
- 통합: 외부 사전 API(JMdict), TTS(선택)  
- 데이터 모델: User, Script, Sentence, Word, Bookmark, Progress

## 9. 성공 지표
- 제품: WAU, 평균 세션 길이, 반복 방문율  
- 비즈니스: 프리미엄 전환율 5%, ARPU $2  
- 기술: Crash Free Rate ≥99.8%, p95 API 300ms 이하

## 10. 일정 & 마일스톤
- Phase 0(1주): 기획 확정, 와이어프레임  
- Phase 1(6주): MVP – 재생, 스크립트 싱크, 계정  
- Phase 2(4주): 단어장, 복습 모드, 통계  
- Phase 3(3주): 추천·알림, 커뮤니티, i18n  
- Beta Launch: 2024-09  
- GA & 마케팅: 2024-11

## 11. 위험 및 대응
- 오디오 저작권 이슈 → 방송국 제휴·CC 라이선스 사용  
- 스크립트 싱크 정확도 ↓ → AI 정렬 + 수동 편집기 제공  
- 초기 콘텐츠 부족 → UGC 업로드 인센티브, 파트너십  
- 성능 병목 → CDN·분산 DB, Lazy load

## 12. 향후 과제
- 모바일 네이티브 앱(iOS/Android)  
- AI 발음 피드백·음성 인식 퀴즈  
- JLPT 레벨별 코스·커리큘럼  
- B2B: 일본어 학원·대학교 LMS 통합
